{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[stats,setStats]=useState(null);const[recentActivity,setRecentActivity]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{loadDashboardData();},[]);const loadDashboardData=async()=>{try{var _mattermostData$conne,_mattermostData$users;setLoading(true);// Параллельно загружаем все данные\nconst[usersResponse,cyclesResponse,assessmentsResponse,questionsResponse,categoriesResponse,mattermostResponse]=await Promise.all([api.get('/users'),api.get('/cycles'),api.get('/assessments'),api.get('/questions'),api.get('/categories'),api.get('/mattermost/integration-stats').catch(()=>({data:{connection:{status:'disconnected'},users:{withMattermost:0}}}))]);// Подсчитываем статистику\nconst users=usersResponse.data;const cycles=cyclesResponse.data;const assessments=assessmentsResponse.data;const questions=questionsResponse.data;const categories=categoriesResponse.data;const mattermostData=mattermostResponse.data;const dashboardStats={totalUsers:users.length,activeUsers:users.filter(user=>user.is_active).length,totalCycles:cycles.length,activeCycles:cycles.filter(cycle=>cycle.status==='active').length,completedAssessments:assessments.filter(assessment=>assessment.status==='completed').length,pendingAssessments:assessments.filter(assessment=>assessment.status==='pending'||assessment.status==='in_progress').length,totalQuestions:questions.length,totalCategories:categories.length,mattermostConnection:((_mattermostData$conne=mattermostData.connection)===null||_mattermostData$conne===void 0?void 0:_mattermostData$conne.status)==='connected',mattermostUsers:((_mattermostData$users=mattermostData.users)===null||_mattermostData$users===void 0?void 0:_mattermostData$users.withMattermost)||0};setStats(dashboardStats);// Генерируем недавнюю активность (мок-данные)\nconst activities=[{id:1,type:'cycle_started',description:'Запущен цикл оценки \"Q1 2024\"',user:'Admin',timestamp:new Date(Date.now()-1000*60*30).toISOString()},{id:2,type:'assessment_completed',description:'Завершена оценка для Иванова И.И.',user:'Петров П.П.',timestamp:new Date(Date.now()-1000*60*60*2).toISOString()},{id:3,type:'user_registered',description:'Зарегистрирован новый пользователь',user:'HR Manager',timestamp:new Date(Date.now()-1000*60*60*4).toISOString()}];setRecentActivity(activities);}catch(error){console.error('Ошибка загрузки данных дашборда:',error);setError('Не удалось загрузить данные');}finally{setLoading(false);}};const getActivityIcon=type=>{switch(type){case'cycle_created':return'🔄';case'cycle_started':return'▶️';case'assessment_completed':return'✅';case'user_registered':return'👤';default:return'📝';}};const getActivityColor=type=>{switch(type){case'cycle_created':return'text-blue-600';case'cycle_started':return'text-green-600';case'assessment_completed':return'text-emerald-600';case'user_registered':return'text-purple-600';default:return'text-gray-600';}};const formatTimeAgo=timestamp=>{const date=new Date(timestamp);const now=new Date();const diffInMinutes=Math.floor((now.getTime()-date.getTime())/(1000*60));if(diffInMinutes<60){return`${diffInMinutes} мин назад`;}else if(diffInMinutes<1440){return`${Math.floor(diffInMinutes/60)} ч назад`;}else{return`${Math.floor(diffInMinutes/1440)} дн назад`;}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:flex md:items-center md:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:text-3xl sm:truncate\",children:\"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"\\u041E\\u0431\\u0437\\u043E\\u0440 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u044B 360\\xB0 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u0430\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex md:mt-0 md:ml-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/cycles\",className:\"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0446\\u0438\\u043A\\u043B \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:\"\\uD83D\\uDC65\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400 truncate\",children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:[stats===null||stats===void 0?void 0:stats.activeUsers,\" / \",stats===null||stats===void 0?void 0:stats.totalUsers]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 px-5 py-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/users\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\\u0438\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:\"\\uD83D\\uDD04\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400 truncate\",children:\"\\u0426\\u0438\\u043A\\u043B\\u044B \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:[stats===null||stats===void 0?void 0:stats.activeCycles,\" / \",stats===null||stats===void 0?void 0:stats.totalCycles]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 px-5 py-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/cycles\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0446\\u0438\\u043A\\u043B\\u0430\\u043C\\u0438\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:\"\\uD83D\\uDCDD\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400 truncate\",children:\"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0438\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:[stats===null||stats===void 0?void 0:stats.completedAssessments,\" / \",((stats===null||stats===void 0?void 0:stats.completedAssessments)||0)+((stats===null||stats===void 0?void 0:stats.pendingAssessments)||0)]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 px-5 py-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/reports\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u043E\\u0442\\u0447\\u0435\\u0442\\u044B\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:\"\\uD83D\\uDCAC\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400 truncate\",children:\"Mattermost\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:[stats===null||stats===void 0?void 0:stats.mattermostUsers,\" \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439\"]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 px-5 py-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/mattermost\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430 \\u0438\\u043D\\u0442\\u0435\\u0433\\u0440\\u0430\\u0446\\u0438\\u0438\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 dark:text-white\",children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u044B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`flex-shrink-0 w-3 h-3 rounded-full ${stats!==null&&stats!==void 0&&stats.mattermostConnection?'bg-green-500':'bg-red-500'}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:\"Mattermost\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:stats!==null&&stats!==void 0&&stats.mattermostConnection?'Подключен':'Отключен'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-3 h-3 rounded-full bg-green-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:\"\\u0411\\u0430\\u0437\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430\\u0435\\u0442\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-3 h-3 rounded-full bg-green-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:\"API\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430\\u0435\\u0442\"})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 dark:text-white\",children:\"\\u041D\\u0435\\u0434\\u0430\\u0432\\u043D\\u044F\\u044F \\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:recentActivity.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"flow-root\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"-mb-8\",children:recentActivity.map((activity,activityIdx)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative pb-8\",children:[activityIdx!==recentActivity.length-1?/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-600\",\"aria-hidden\":\"true\"}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:getActivityIcon(activity.type)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[activity.description,' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:activity.user})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400\",children:formatTimeAgo(activity.timestamp)})]})]})]})},activity.id))})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"\\u041D\\u0435\\u0442 \\u043D\\u0435\\u0434\\u0430\\u0432\\u043D\\u0435\\u0439 \\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\\u0441\\u0442\\u0438\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 dark:text-white\",children:\"\\u0411\\u044B\\u0441\\u0442\\u0440\\u044B\\u0435 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/admin/users\",className:\"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\uD83D\\uDC65\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430\"})]})]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/cycles\",className:\"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\uD83D\\uDD04\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0446\\u0438\\u043A\\u043B \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"\\u0417\\u0430\\u043F\\u0443\\u0441\\u0442\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0446\\u0438\\u043A\\u043B 360\\xB0 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438\"})]})]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/questions\",className:\"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\u2753\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u0430\\u043C\\u0438\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0438\\u043B\\u0438 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B\"})]})]})]})]})})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","api","jsx","_jsx","jsxs","_jsxs","AdminDashboard","stats","setStats","recentActivity","setRecentActivity","loading","setLoading","error","setError","loadDashboardData","_mattermostData$conne","_mattermostData$users","usersResponse","cyclesResponse","assessmentsResponse","questionsResponse","categoriesResponse","mattermostResponse","Promise","all","get","catch","data","connection","status","users","withMattermost","cycles","assessments","questions","categories","mattermostData","dashboardStats","totalUsers","length","activeUsers","filter","user","is_active","totalCycles","activeCycles","cycle","completedAssessments","assessment","pendingAssessments","totalQuestions","totalCategories","mattermostConnection","mattermostUsers","activities","id","type","description","timestamp","Date","now","toISOString","console","getActivityIcon","getActivityColor","formatTimeAgo","date","diffInMinutes","Math","floor","getTime","className","children","to","map","activity","activityIdx"],"sources":["/Users/chastnik/Documents/projects/360/frontend/src/pages/admin/AdminDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../../services/api';\n\ninterface DashboardStats {\n  totalUsers: number;\n  activeUsers: number;\n  totalCycles: number;\n  activeCycles: number;\n  completedAssessments: number;\n  pendingAssessments: number;\n  totalQuestions: number;\n  totalCategories: number;\n  mattermostConnection: boolean;\n  mattermostUsers: number;\n}\n\ninterface RecentActivity {\n  id: number;\n  type: 'cycle_created' | 'cycle_started' | 'assessment_completed' | 'user_registered';\n  description: string;\n  user: string;\n  timestamp: string;\n}\n\nconst AdminDashboard: React.FC = () => {\n  const [stats, setStats] = useState<DashboardStats | null>(null);\n  const [recentActivity, setRecentActivity] = useState<RecentActivity[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadDashboardData();\n  }, []);\n\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      // Параллельно загружаем все данные\n      const [\n        usersResponse,\n        cyclesResponse,\n        assessmentsResponse,\n        questionsResponse,\n        categoriesResponse,\n        mattermostResponse\n      ] = await Promise.all([\n        api.get('/users'),\n        api.get('/cycles'),\n        api.get('/assessments'),\n        api.get('/questions'),\n        api.get('/categories'),\n        api.get('/mattermost/integration-stats').catch(() => ({ data: { connection: { status: 'disconnected' }, users: { withMattermost: 0 } } }))\n      ]);\n\n      // Подсчитываем статистику\n      const users = usersResponse.data;\n      const cycles = cyclesResponse.data;\n      const assessments = assessmentsResponse.data;\n      const questions = questionsResponse.data;\n      const categories = categoriesResponse.data;\n      const mattermostData = mattermostResponse.data;\n\n      const dashboardStats: DashboardStats = {\n        totalUsers: users.length,\n        activeUsers: users.filter((user: any) => user.is_active).length,\n        totalCycles: cycles.length,\n        activeCycles: cycles.filter((cycle: any) => cycle.status === 'active').length,\n        completedAssessments: assessments.filter((assessment: any) => assessment.status === 'completed').length,\n        pendingAssessments: assessments.filter((assessment: any) => assessment.status === 'pending' || assessment.status === 'in_progress').length,\n        totalQuestions: questions.length,\n        totalCategories: categories.length,\n        mattermostConnection: mattermostData.connection?.status === 'connected',\n        mattermostUsers: mattermostData.users?.withMattermost || 0\n      };\n\n      setStats(dashboardStats);\n\n      // Генерируем недавнюю активность (мок-данные)\n      const activities: RecentActivity[] = [\n        {\n          id: 1,\n          type: 'cycle_started',\n          description: 'Запущен цикл оценки \"Q1 2024\"',\n          user: 'Admin',\n          timestamp: new Date(Date.now() - 1000 * 60 * 30).toISOString()\n        },\n        {\n          id: 2,\n          type: 'assessment_completed',\n          description: 'Завершена оценка для Иванова И.И.',\n          user: 'Петров П.П.',\n          timestamp: new Date(Date.now() - 1000 * 60 * 60 * 2).toISOString()\n        },\n        {\n          id: 3,\n          type: 'user_registered',\n          description: 'Зарегистрирован новый пользователь',\n          user: 'HR Manager',\n          timestamp: new Date(Date.now() - 1000 * 60 * 60 * 4).toISOString()\n        }\n      ];\n\n      setRecentActivity(activities);\n    } catch (error) {\n      console.error('Ошибка загрузки данных дашборда:', error);\n      setError('Не удалось загрузить данные');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getActivityIcon = (type: string) => {\n    switch (type) {\n      case 'cycle_created': return '🔄';\n      case 'cycle_started': return '▶️';\n      case 'assessment_completed': return '✅';\n      case 'user_registered': return '👤';\n      default: return '📝';\n    }\n  };\n\n  const getActivityColor = (type: string) => {\n    switch (type) {\n      case 'cycle_created': return 'text-blue-600';\n      case 'cycle_started': return 'text-green-600';\n      case 'assessment_completed': return 'text-emerald-600';\n      case 'user_registered': return 'text-purple-600';\n      default: return 'text-gray-600';\n    }\n  };\n\n  const formatTimeAgo = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n    \n    if (diffInMinutes < 60) {\n      return `${diffInMinutes} мин назад`;\n    } else if (diffInMinutes < 1440) {\n      return `${Math.floor(diffInMinutes / 60)} ч назад`;\n    } else {\n      return `${Math.floor(diffInMinutes / 1440)} дн назад`;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n        {error}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Заголовок */}\n      <div className=\"md:flex md:items-center md:justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:text-3xl sm:truncate\">\n            Панель администратора\n          </h1>\n          <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n            Обзор системы 360° оценки персонала\n          </p>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          <Link\n            to=\"/admin/cycles\"\n            className=\"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n          >\n            Создать цикл оценки\n          </Link>\n        </div>\n      </div>\n\n      {/* Основная статистика */}\n      <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\">\n        <div className=\"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"text-2xl\">👥</div>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 truncate\">\n                    Пользователи\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900 dark:text-white\">\n                    {stats?.activeUsers} / {stats?.totalUsers}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 dark:bg-gray-700 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/admin/users\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n                Управление пользователями\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"text-2xl\">🔄</div>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 truncate\">\n                    Циклы оценки\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900 dark:text-white\">\n                    {stats?.activeCycles} / {stats?.totalCycles}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 dark:bg-gray-700 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/admin/cycles\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n                Управление циклами\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"text-2xl\">📝</div>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 truncate\">\n                    Оценки\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900 dark:text-white\">\n                    {stats?.completedAssessments} / {(stats?.completedAssessments || 0) + (stats?.pendingAssessments || 0)}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 dark:bg-gray-700 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/admin/reports\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n                Просмотреть отчеты\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"text-2xl\">💬</div>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 truncate\">\n                    Mattermost\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900 dark:text-white\">\n                    {stats?.mattermostUsers} пользователей\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 dark:bg-gray-700 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/admin/mattermost\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n                Настройка интеграции\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Статус системы */}\n      <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n            Статус системы\n          </h3>\n          <div className=\"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3\">\n            <div className=\"flex items-center\">\n              <div className={`flex-shrink-0 w-3 h-3 rounded-full ${stats?.mattermostConnection ? 'bg-green-500' : 'bg-red-500'}`}></div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  Mattermost\n                </p>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  {stats?.mattermostConnection ? 'Подключен' : 'Отключен'}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 w-3 h-3 rounded-full bg-green-500\"></div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  База данных\n                </p>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  Работает\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 w-3 h-3 rounded-full bg-green-500\"></div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  API\n                </p>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  Работает\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Недавняя активность */}\n      <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n            Недавняя активность\n          </h3>\n          <div className=\"mt-5\">\n            {recentActivity.length > 0 ? (\n              <div className=\"flow-root\">\n                <ul className=\"-mb-8\">\n                  {recentActivity.map((activity, activityIdx) => (\n                    <li key={activity.id}>\n                      <div className=\"relative pb-8\">\n                        {activityIdx !== recentActivity.length - 1 ? (\n                          <span className=\"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-600\" aria-hidden=\"true\" />\n                        ) : null}\n                        <div className=\"relative flex space-x-3\">\n                          <div>\n                            <span className=\"text-xl\">\n                              {getActivityIcon(activity.type)}\n                            </span>\n                          </div>\n                          <div className=\"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4\">\n                            <div>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                {activity.description}{' '}\n                                <span className=\"font-medium text-gray-900 dark:text-white\">\n                                  {activity.user}\n                                </span>\n                              </p>\n                            </div>\n                            <div className=\"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400\">\n                              {formatTimeAgo(activity.timestamp)}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ) : (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                Нет недавней активности\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Быстрые действия */}\n      <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n            Быстрые действия\n          </h3>\n          <div className=\"mt-5 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n            <Link\n              to=\"/admin/users\"\n              className=\"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-xl\">👥</span>\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  Добавить пользователя\n                </p>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  Зарегистрировать нового сотрудника\n                </p>\n              </div>\n            </Link>\n\n            <Link\n              to=\"/admin/cycles\"\n              className=\"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-xl\">🔄</span>\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  Создать цикл оценки\n                </p>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  Запустить новый цикл 360° оценки\n                </p>\n              </div>\n            </Link>\n\n            <Link\n              to=\"/admin/questions\"\n              className=\"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-xl\">❓</span>\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  Управление вопросами\n                </p>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  Добавить или изменить вопросы\n                </p>\n              </div>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}