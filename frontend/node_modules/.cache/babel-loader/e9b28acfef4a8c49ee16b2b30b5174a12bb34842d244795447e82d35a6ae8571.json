{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Layout}from'../components/Layout';import{useAuth}from'../contexts/AuthContext';import{CategoryBarChart,CategoryRadarChart,OverallScoreDisplay,ComparisonChart}from'../components/ReportCharts';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ReportsPage=()=>{var _selectedCycleData$pa,_selectedCycleData$pa2;const{user}=useAuth();const[reports,setReports]=useState([]);const[cycles,setCycles]=useState([]);const[selectedCycle,setSelectedCycle]=useState(null);const[cycleAnalytics,setCycleAnalytics]=useState(null);const[selectedParticipants,setSelectedParticipants]=useState([]);const[comparisonData,setComparisonData]=useState([]);const[loading,setLoading]=useState(true);const[generating,setGenerating]=useState(null);const[error,setError]=useState(null);useEffect(()=>{loadReports();loadCycles();},[]);const loadReports=async()=>{try{const response=await api.get('/reports');setReports(response.data);}catch(error){console.error('Ошибка при загрузке отчетов:',error);setError('Не удалось загрузить отчеты');}finally{setLoading(false);}};const loadCycles=async()=>{try{const response=await api.get('/cycles');setCycles(response.data);}catch(error){console.error('Ошибка при загрузке циклов:',error);}};const loadCycleAnalytics=async cycleId=>{try{const response=await api.get(`/reports/cycle/${cycleId}/analytics`);setCycleAnalytics(response.data);}catch(error){console.error('Ошибка при загрузке аналитики:',error);setError('Не удалось загрузить аналитику');}};const generateReport=async participantId=>{try{setGenerating(participantId);const response=await api.post(`/reports/generate/${participantId}`);await loadReports();setError(null);}catch(error){var _error$response,_error$response$data;console.error('Ошибка при генерации отчета:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Не удалось сгенерировать отчет');}finally{setGenerating(null);}};const handleCycleChange=cycleId=>{setSelectedCycle(cycleId);setCycleAnalytics(null);setSelectedParticipants([]);setComparisonData([]);loadCycleAnalytics(cycleId);};const handleParticipantSelect=participantId=>{setSelectedParticipants(prev=>prev.includes(participantId)?prev.filter(id=>id!==participantId):[...prev,participantId]);};const loadComparison=async()=>{if(!selectedCycle||selectedParticipants.length<2)return;try{const response=await api.get(`/reports/compare/${selectedCycle}`,{params:{participants:selectedParticipants}});setComparisonData(response.data);}catch(error){console.error('Ошибка при загрузке сравнения:',error);setError('Не удалось загрузить сравнение');}};const canManageReports=(user===null||user===void 0?void 0:user.role)==='admin'||(user===null||user===void 0?void 0:user.role)==='manager';if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"})})});}const selectedCycleData=cycles.find(c=>c.id===selectedCycle);return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:\"\\u041E\\u0442\\u0447\\u0435\\u0442\\u044B \\u0438 \\u0430\\u043D\\u0430\\u043B\\u0438\\u0442\\u0438\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loadReports,className:\"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\",children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-4\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442\\u0447\\u0435\\u0442\\u0430\\u043C\\u0438\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0446\\u0438\\u043A\\u043B\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCycle||'',onChange:e=>handleCycleChange(Number(e.target.value)),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0446\\u0438\\u043A\\u043B\"}),cycles.map(cycle=>/*#__PURE__*/_jsx(\"option\",{value:cycle.id,children:cycle.name},cycle.id))]})]}),canManageReports&&selectedCycleData&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-md font-medium text-gray-900 dark:text-white mb-3\",children:\"\\u0413\\u0435\\u043D\\u0435\\u0440\\u0430\\u0446\\u0438\\u044F \\u043E\\u0442\\u0447\\u0435\\u0442\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:(_selectedCycleData$pa=selectedCycleData.participants)===null||_selectedCycleData$pa===void 0?void 0:_selectedCycleData$pa.map(participant=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 bg-gray-50 dark:bg-gray-700 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-900 dark:text-white\",children:participant.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateReport(participant.id),disabled:generating===participant.id,className:\"bg-primary-600 hover:bg-primary-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors disabled:opacity-50\",children:generating===participant.id?'Генерация...':'Генерировать'})]},participant.id))})]}),selectedCycleData&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-md font-medium text-gray-900 dark:text-white mb-3\",children:\"\\u0421\\u0440\\u0430\\u0432\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 mb-3\",children:(_selectedCycleData$pa2=selectedCycleData.participants)===null||_selectedCycleData$pa2===void 0?void 0:_selectedCycleData$pa2.map(participant=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedParticipants.includes(participant.id.toString()),onChange:()=>handleParticipantSelect(participant.id.toString()),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-900 dark:text-white\",children:participant.name})]},participant.id))}),/*#__PURE__*/_jsxs(\"button\",{onClick:loadComparison,disabled:selectedParticipants.length<2,className:\"w-full bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded font-medium transition-colors disabled:opacity-50\",children:[\"\\u0421\\u0440\\u0430\\u0432\\u043D\\u0438\\u0442\\u044C (\",selectedParticipants.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-md font-medium text-gray-900 dark:text-white mb-3\",children:[\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0442\\u0447\\u0435\\u0442\\u044B (\",reports.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[reports.slice(0,5).map(report=>/*#__PURE__*/_jsxs(Link,{to:`/report/${report.id}`,className:\"block p-2 bg-gray-50 dark:bg-gray-700 rounded hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:report.participant_name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:report.cycle_name})]},report.id)),reports.length>5&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 text-center\",children:[\"+\",reports.length-5,\" \\u0435\\u0449\\u0435\"]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:!selectedCycle?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 dark:text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 mx-auto mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0446\\u0438\\u043A\\u043B \\u0434\\u043B\\u044F \\u0430\\u043D\\u0430\\u043B\\u0438\\u0437\\u0430\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0446\\u0438\\u043A\\u043B \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438 \\u0438\\u0437 \\u0431\\u043E\\u043A\\u043E\\u0432\\u043E\\u0439 \\u043F\\u0430\\u043D\\u0435\\u043B\\u0438, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u0430\\u043D\\u0430\\u043B\\u0438\\u0442\\u0438\\u043A\\u0443 \\u0438 \\u043E\\u0442\\u0447\\u0435\\u0442\\u044B.\"})]}):cycleAnalytics?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(OverallScoreDisplay,{score:cycleAnalytics.overallAverage,title:\"\\u041E\\u0431\\u0449\\u0438\\u0439 \\u0441\\u0440\\u0435\\u0434\\u043D\\u0438\\u0439 \\u0431\\u0430\\u043B\\u043B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-4\",children:\"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 dark:text-gray-300\",children:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u043E\\u0432:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:cycleAnalytics.participantSummaries.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 dark:text-gray-300\",children:\"\\u0412\\u0441\\u0435\\u0433\\u043E \\u043E\\u0442\\u0432\\u0435\\u0442\\u043E\\u0432:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:cycleAnalytics.totalRespondents})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 dark:text-gray-300\",children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0439:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:cycleAnalytics.categoryAverages.length})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(CategoryBarChart,{data:cycleAnalytics.categoryAverages,title:\"\\u0421\\u0440\\u0435\\u0434\\u043D\\u0438\\u0435 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438 \\u043F\\u043E \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\\u043C\"}),/*#__PURE__*/_jsx(CategoryRadarChart,{data:cycleAnalytics.categoryAverages,title:\"\\u0420\\u0430\\u0434\\u0430\\u0440\\u043D\\u0430\\u044F \\u0434\\u0438\\u0430\\u0433\\u0440\\u0430\\u043C\\u043C\\u0430 \\u043A\\u043E\\u043C\\u043F\\u0435\\u0442\\u0435\\u043D\\u0446\\u0438\\u0439\"})]}),comparisonData.length>0&&/*#__PURE__*/_jsx(ComparisonChart,{data:comparisonData,title:\"\\u0421\\u0440\\u0430\\u0432\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u043E\\u0432\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-4\",children:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u0438 \\u0446\\u0438\\u043A\\u043B\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:cycleAnalytics.participantSummaries.map(participant=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:participant.userName}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[participant.totalResponses,\" \\u043E\\u0442\\u0432\\u0435\\u0442\\u043E\\u0432\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-primary-600\",children:participant.overallAverage.toFixed(1)})]})]},participant.userId))})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"})})})]})]})});};","map":{"version":3,"names":["React","useState","useEffect","Link","Layout","useAuth","CategoryBarChart","CategoryRadarChart","OverallScoreDisplay","ComparisonChart","api","jsx","_jsx","jsxs","_jsxs","ReportsPage","_selectedCycleData$pa","_selectedCycleData$pa2","user","reports","setReports","cycles","setCycles","selectedCycle","setSelectedCycle","cycleAnalytics","setCycleAnalytics","selectedParticipants","setSelectedParticipants","comparisonData","setComparisonData","loading","setLoading","generating","setGenerating","error","setError","loadReports","loadCycles","response","get","data","console","loadCycleAnalytics","cycleId","generateReport","participantId","post","_error$response","_error$response$data","handleCycleChange","handleParticipantSelect","prev","includes","filter","id","loadComparison","length","params","participants","canManageReports","role","children","className","selectedCycleData","find","c","onClick","value","onChange","e","Number","target","map","cycle","name","participant","disabled","type","checked","toString","slice","report","to","participant_name","cycle_name","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","score","overallAverage","title","participantSummaries","totalRespondents","categoryAverages","userName","totalResponses","toFixed","userId"],"sources":["/Users/chastnik/Documents/projects/360/frontend/src/pages/ReportsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Layout } from '../components/Layout';\nimport { useAuth } from '../contexts/AuthContext';\nimport { \n  CategoryBarChart, \n  CategoryRadarChart, \n  OverallScoreDisplay, \n  ComparisonChart \n} from '../components/ReportCharts';\nimport api from '../services/api';\n\ninterface Report {\n  id: number;\n  cycle_id: number;\n  user_id: number;\n  cycle_name: string;\n  participant_name: string;\n  data: string;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface Cycle {\n  id: number;\n  name: string;\n  status: string;\n  participants: Participant[];\n}\n\ninterface Participant {\n  id: number;\n  user_id: number;\n  name: string;\n  email: string;\n  status: string;\n}\n\ninterface CategoryAverage {\n  id: number;\n  name: string;\n  color: string;\n  average: number;\n  count: number;\n}\n\ninterface CycleAnalytics {\n  totalRespondents: number;\n  categoryAverages: CategoryAverage[];\n  participantSummaries: Array<{\n    userId: number;\n    userName: string;\n    categoryAverages: CategoryAverage[];\n    overallAverage: number;\n    totalResponses: number;\n  }>;\n  overallAverage: number;\n}\n\nexport const ReportsPage: React.FC = () => {\n  const { user } = useAuth();\n  const [reports, setReports] = useState<Report[]>([]);\n  const [cycles, setCycles] = useState<Cycle[]>([]);\n  const [selectedCycle, setSelectedCycle] = useState<number | null>(null);\n  const [cycleAnalytics, setCycleAnalytics] = useState<CycleAnalytics | null>(null);\n  const [selectedParticipants, setSelectedParticipants] = useState<string[]>([]);\n  const [comparisonData, setComparisonData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [generating, setGenerating] = useState<number | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadReports();\n    loadCycles();\n  }, []);\n\n  const loadReports = async () => {\n    try {\n      const response = await api.get('/reports');\n      setReports(response.data);\n    } catch (error) {\n      console.error('Ошибка при загрузке отчетов:', error);\n      setError('Не удалось загрузить отчеты');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadCycles = async () => {\n    try {\n      const response = await api.get('/cycles');\n      setCycles(response.data);\n    } catch (error) {\n      console.error('Ошибка при загрузке циклов:', error);\n    }\n  };\n\n  const loadCycleAnalytics = async (cycleId: number) => {\n    try {\n      const response = await api.get(`/reports/cycle/${cycleId}/analytics`);\n      setCycleAnalytics(response.data);\n    } catch (error) {\n      console.error('Ошибка при загрузке аналитики:', error);\n      setError('Не удалось загрузить аналитику');\n    }\n  };\n\n  const generateReport = async (participantId: number) => {\n    try {\n      setGenerating(participantId);\n      const response = await api.post(`/reports/generate/${participantId}`);\n      await loadReports();\n      setError(null);\n    } catch (error: any) {\n      console.error('Ошибка при генерации отчета:', error);\n      setError(error.response?.data?.error || 'Не удалось сгенерировать отчет');\n    } finally {\n      setGenerating(null);\n    }\n  };\n\n  const handleCycleChange = (cycleId: number) => {\n    setSelectedCycle(cycleId);\n    setCycleAnalytics(null);\n    setSelectedParticipants([]);\n    setComparisonData([]);\n    loadCycleAnalytics(cycleId);\n  };\n\n  const handleParticipantSelect = (participantId: string) => {\n    setSelectedParticipants(prev => \n      prev.includes(participantId) \n        ? prev.filter(id => id !== participantId)\n        : [...prev, participantId]\n    );\n  };\n\n  const loadComparison = async () => {\n    if (!selectedCycle || selectedParticipants.length < 2) return;\n\n    try {\n      const response = await api.get(`/reports/compare/${selectedCycle}`, {\n        params: { participants: selectedParticipants }\n      });\n      setComparisonData(response.data);\n    } catch (error) {\n      console.error('Ошибка при загрузке сравнения:', error);\n      setError('Не удалось загрузить сравнение');\n    }\n  };\n\n  const canManageReports = user?.role === 'admin' || user?.role === 'manager';\n\n  if (loading) {\n    return (\n      <Layout>\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\n        </div>\n      </Layout>\n    );\n  }\n\n  const selectedCycleData = cycles.find(c => c.id === selectedCycle);\n\n  return (\n    <Layout>\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n            Отчеты и аналитика\n          </h1>\n          <button\n            onClick={loadReports}\n            className=\"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\"\n          >\n            Обновить\n          </button>\n        </div>\n\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Боковая панель с управлением */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n              <h2 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\n                Управление отчетами\n              </h2>\n              \n              {/* Выбор цикла */}\n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Выберите цикл\n                </label>\n                <select\n                  value={selectedCycle || ''}\n                  onChange={(e) => handleCycleChange(Number(e.target.value))}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white\"\n                >\n                  <option value=\"\">Выберите цикл</option>\n                  {cycles.map(cycle => (\n                    <option key={cycle.id} value={cycle.id}>\n                      {cycle.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Генерация отчетов */}\n              {canManageReports && selectedCycleData && (\n                <div className=\"mb-6\">\n                  <h3 className=\"text-md font-medium text-gray-900 dark:text-white mb-3\">\n                    Генерация отчетов\n                  </h3>\n                  <div className=\"space-y-2\">\n                    {selectedCycleData.participants?.map(participant => (\n                      <div key={participant.id} className=\"flex justify-between items-center p-2 bg-gray-50 dark:bg-gray-700 rounded\">\n                        <span className=\"text-sm text-gray-900 dark:text-white\">\n                          {participant.name}\n                        </span>\n                        <button\n                          onClick={() => generateReport(participant.id)}\n                          disabled={generating === participant.id}\n                          className=\"bg-primary-600 hover:bg-primary-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors disabled:opacity-50\"\n                        >\n                          {generating === participant.id ? 'Генерация...' : 'Генерировать'}\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Сравнение участников */}\n              {selectedCycleData && (\n                <div className=\"mb-6\">\n                  <h3 className=\"text-md font-medium text-gray-900 dark:text-white mb-3\">\n                    Сравнение участников\n                  </h3>\n                  <div className=\"space-y-2 mb-3\">\n                    {selectedCycleData.participants?.map(participant => (\n                      <label key={participant.id} className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedParticipants.includes(participant.id.toString())}\n                          onChange={() => handleParticipantSelect(participant.id.toString())}\n                          className=\"mr-2\"\n                        />\n                        <span className=\"text-sm text-gray-900 dark:text-white\">\n                          {participant.name}\n                        </span>\n                      </label>\n                    ))}\n                  </div>\n                  <button\n                    onClick={loadComparison}\n                    disabled={selectedParticipants.length < 2}\n                    className=\"w-full bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded font-medium transition-colors disabled:opacity-50\"\n                  >\n                    Сравнить ({selectedParticipants.length})\n                  </button>\n                </div>\n              )}\n\n              {/* Список сохраненных отчетов */}\n              <div>\n                <h3 className=\"text-md font-medium text-gray-900 dark:text-white mb-3\">\n                  Сохраненные отчеты ({reports.length})\n                </h3>\n                <div className=\"space-y-2\">\n                  {reports.slice(0, 5).map(report => (\n                    <Link\n                      key={report.id}\n                      to={`/report/${report.id}`}\n                      className=\"block p-2 bg-gray-50 dark:bg-gray-700 rounded hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors\"\n                    >\n                      <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                        {report.participant_name}\n                      </div>\n                      <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {report.cycle_name}\n                      </div>\n                    </Link>\n                  ))}\n                  {reports.length > 5 && (\n                    <div className=\"text-xs text-gray-500 dark:text-gray-400 text-center\">\n                      +{reports.length - 5} еще\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Основная область с аналитикой */}\n          <div className=\"lg:col-span-2\">\n            {!selectedCycle ? (\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8 text-center\">\n                <div className=\"text-gray-500 dark:text-gray-400 mb-4\">\n                  <svg className=\"w-12 h-12 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n                  Выберите цикл для анализа\n                </h3>\n                <p className=\"text-gray-600 dark:text-gray-300\">\n                  Выберите цикл оценки из боковой панели, чтобы просмотреть аналитику и отчеты.\n                </p>\n              </div>\n            ) : cycleAnalytics ? (\n              <div className=\"space-y-6\">\n                {/* Общая статистика */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <OverallScoreDisplay\n                    score={cycleAnalytics.overallAverage}\n                    title=\"Общий средний балл\"\n                  />\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\n                      Статистика\n                    </h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Участников:</span>\n                        <span className=\"font-medium text-gray-900 dark:text-white\">\n                          {cycleAnalytics.participantSummaries.length}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Всего ответов:</span>\n                        <span className=\"font-medium text-gray-900 dark:text-white\">\n                          {cycleAnalytics.totalRespondents}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Категорий:</span>\n                        <span className=\"font-medium text-gray-900 dark:text-white\">\n                          {cycleAnalytics.categoryAverages.length}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Графики */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <CategoryBarChart\n                    data={cycleAnalytics.categoryAverages}\n                    title=\"Средние оценки по категориям\"\n                  />\n                  <CategoryRadarChart\n                    data={cycleAnalytics.categoryAverages}\n                    title=\"Радарная диаграмма компетенций\"\n                  />\n                </div>\n\n                {/* Сравнение участников */}\n                {comparisonData.length > 0 && (\n                  <ComparisonChart\n                    data={comparisonData}\n                    title=\"Сравнение участников\"\n                  />\n                )}\n\n                {/* Список участников */}\n                <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\n                    Участники цикла\n                  </h3>\n                  <div className=\"space-y-3\">\n                    {cycleAnalytics.participantSummaries.map(participant => (\n                      <div key={participant.userId} className=\"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded\">\n                        <span className=\"font-medium text-gray-900 dark:text-white\">\n                          {participant.userName}\n                        </span>\n                        <div className=\"flex items-center gap-4\">\n                          <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                            {participant.totalResponses} ответов\n                          </span>\n                          <span className=\"text-lg font-bold text-primary-600\">\n                            {participant.overallAverage.toFixed(1)}\n                          </span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"flex justify-center items-center h-64\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}