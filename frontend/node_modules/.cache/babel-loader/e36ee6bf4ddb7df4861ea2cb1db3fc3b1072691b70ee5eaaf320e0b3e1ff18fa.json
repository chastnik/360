{"ast":null,"code":"import React,{useState}from'react';import{Link,Navigate}from'react-router-dom';import{Eye,EyeOff,Mail,Lock,Building2}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const LoginPage=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const{login,isAuthenticated}=useAuth();// Если уже авторизован, перенаправляем на dashboard\nif(isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}const handleSubmit=async e=>{e.preventDefault();setError('');setIsLoading(true);try{await login(email,password);}catch(err){setError(err.message||'Ошибка авторизации');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 dark:from-dark-100 dark:to-dark-200 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto w-16 h-16 bg-primary-500 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(Building2,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mb-2\",children:\"360\\xB0 \\u041E\\u0446\\u0435\\u043D\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"\\u0421\\u0438\\u0441\\u0442\\u0435\\u043C\\u0430 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u0430\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-8 shadow-large\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 dark:text-red-400\",children:error})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"label block mb-2\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Mail,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"input pl-10\",placeholder:\"your.email@company.com\",required:true,disabled:isLoading})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"label block mb-2\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Lock,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:showPassword?'text':'password',value:password,onChange:e=>setPassword(e.target.value),className:\"input pl-10 pr-10\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,disabled:isLoading}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",disabled:isLoading,children:showPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"h-5 w-5 text-gray-400 hover:text-gray-600\"}):/*#__PURE__*/_jsx(Eye,{className:\"h-5 w-5 text-gray-400 hover:text-gray-600\"})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"btn btn-primary w-full btn-lg\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-5 h-5 mr-2\"}),\"\\u0412\\u0445\\u043E\\u0434...\"]}):'Войти'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:[\"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-primary-600 hover:text-primary-500 font-medium\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-center text-sm text-gray-500 dark:text-gray-400\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 360\\xB0 Assessment System. \\u0412\\u0441\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0430 \\u0437\\u0430\\u0449\\u0438\\u0449\\u0435\\u043D\\u044B.\"})})]})});};","map":{"version":3,"names":["React","useState","Link","Navigate","Eye","EyeOff","Mail","Lock","Building2","useAuth","jsx","_jsx","jsxs","_jsxs","LoginPage","email","setEmail","password","setPassword","showPassword","setShowPassword","isLoading","setIsLoading","error","setError","login","isAuthenticated","to","replace","handleSubmit","e","preventDefault","err","message","className","children","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","disabled","onClick"],"sources":["/Users/chastnik/Documents/projects/360/frontend/src/pages/LoginPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { Eye, EyeOff, Mail, Lock, User, Building2 } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\n\nexport const LoginPage: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const { login, isAuthenticated } = useAuth();\n\n  // Если уже авторизован, перенаправляем на dashboard\n  if (isAuthenticated) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setIsLoading(true);\n\n    try {\n      await login(email, password);\n    } catch (err: any) {\n      setError(err.message || 'Ошибка авторизации');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 dark:from-dark-100 dark:to-dark-200 flex items-center justify-center p-4\">\n      <div className=\"max-w-md w-full\">\n        {/* Логотип и заголовок */}\n        <div className=\"text-center mb-8\">\n          <div className=\"mx-auto w-16 h-16 bg-primary-500 rounded-full flex items-center justify-center mb-4\">\n            <Building2 className=\"w-8 h-8 text-white\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\n            360° Оценка\n          </h1>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Система оценки персонала\n          </p>\n        </div>\n\n        {/* Форма входа */}\n        <div className=\"card p-8 shadow-large\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {error && (\n              <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\n                <p className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n              </div>\n            )}\n\n            {/* Email поле */}\n            <div>\n              <label htmlFor=\"email\" className=\"label block mb-2\">\n                Email\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Mail className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"input pl-10\"\n                  placeholder=\"your.email@company.com\"\n                  required\n                  disabled={isLoading}\n                />\n              </div>\n            </div>\n\n            {/* Password поле */}\n            <div>\n              <label htmlFor=\"password\" className=\"label block mb-2\">\n                Пароль\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Lock className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"input pl-10 pr-10\"\n                  placeholder=\"Введите пароль\"\n                  required\n                  disabled={isLoading}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                  disabled={isLoading}\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" />\n                  ) : (\n                    <Eye className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            {/* Кнопка входа */}\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"btn btn-primary w-full btn-lg\"\n            >\n              {isLoading ? (\n                <div className=\"flex items-center justify-center\">\n                  <div className=\"loading-spinner w-5 h-5 mr-2\"></div>\n                  Вход...\n                </div>\n              ) : (\n                'Войти'\n              )}\n            </button>\n\n            {/* Ссылка на регистрацию */}\n            <div className=\"text-center\">\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                Нет аккаунта?{' '}\n                <Link \n                  to=\"/register\" \n                  className=\"text-primary-600 hover:text-primary-500 font-medium\"\n                >\n                  Зарегистрироваться\n                </Link>\n              </p>\n            </div>\n          </form>\n        </div>\n\n        {/* Дополнительная информация */}\n        <div className=\"mt-8 text-center text-sm text-gray-500 dark:text-gray-400\">\n          <p>\n            © 2024 360° Assessment System. Все права защищены.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}