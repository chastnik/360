# Конфигурация базы данных
# DATABASE_URL - альтернативный способ подключения (postgresql://user:password@host:port/database)
# Если указан DATABASE_URL, он имеет приоритет над отдельными переменными DB_*
# DATABASE_URL=postgresql://assessment_user:password@localhost:5432/assessment360
DB_HOST=localhost
DB_NAME=assessment360
DB_USER=assessment_user
DB_PASSWORD=your_secure_db_password_here
DB_PORT=5432

# Конфигурация JWT
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-minimum-32-characters

# Конфигурация портов
# PORT - порт внутри контейнера backend (используется в backend/src/server.ts)
# BACKEND_PORT - порт хоста для маппинга в docker-compose.yml (BACKEND_PORT:PORT)
# FRONTEND_PORT - порт для фронтенда (только HTTPS 443 для безопасности)
PORT=5000
FRONTEND_PORT=443
BACKEND_PORT=5000

# Конфигурация Redis
# REDIS_HOST - хост Redis (по умолчанию localhost, в Docker используйте 'redis')
REDIS_HOST=localhost
REDIS_PASSWORD=your_redis_password_here
REDIS_PORT=6379

# Конфигурация Frontend
# URL для доступа к frontend (используется для генерации ссылок в уведомлениях)
# Для development: http://localhost:3000
# Для production: https://your-domain.com или https://localhost (обязательно HTTPS и полный URL с протоколом)
# ВАЖНО: Этот URL используется в email и Mattermost уведомлениях для ссылок на систему
# ВАЖНО: В production фронтенд работает только на порту 443 (HTTPS)
REACT_APP_API_URL=http://localhost:5000/api
FRONTEND_URL=https://localhost

# Конфигурация Mattermost
MATTERMOST_URL=https://your-mattermost-server.com
MATTERMOST_TOKEN=your-mattermost-personal-access-token
MATTERMOST_TEAM_ID=your-team-id-here
MATTERMOST_TEAM_NAME=Бит.Цифра
MATTERMOST_BOT_USERNAME=360-assessment-bot

# Конфигурация для production
NODE_ENV=production

# Конфигурация SSL (ОБЯЗАТЕЛЬНО для production, фронтенд работает только на 443)
# Для тестирования: используются самоподписанные сертификаты из директории ssl/
# Для production: замените на реальные сертификаты от Let's Encrypt или другого CA
SSL_CERT_PATH=./ssl/ssl.crt
SSL_KEY_PATH=./ssl/ssl.key
# DOMAIN=your-domain.com
# 
# ВАЖНО: Фронтенд работает только на порту 443 (HTTPS) для безопасности.
# SSL сертификаты обязательны для работы системы.
# Если используете домен, обязательно установите FRONTEND_URL=https://your-domain.com
# Это необходимо для корректной генерации ссылок в email и Mattermost уведомлениях

# Конфигурация логирования
LOG_LEVEL=info
LOG_FILE=/app/logs/application.log

# Конфигурация сессий
SESSION_SECRET=your-session-secret-here
SESSION_TIMEOUT=86400000

# Конфигурация файлов
MAX_FILE_SIZE=10485760
UPLOAD_DIR=/app/uploads

# Конфигурация безопасности
CORS_ORIGIN=http://localhost:3000,https://your-domain.com
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# Конфигурация электронной почты (опционально)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM_NAME=360 Assessment

# Конфигурация мониторинга (опционально)
# SENTRY_DSN=https://your-sentry-dsn-here
# MONITORING_ENABLED=true

# Конфигурация шифрования (для Jira интеграции)
# ENCRYPTION_KEY - ключ шифрования (128 бит = 16 байт = 32 hex символа)
# ОБЯЗАТЕЛЬНО должен быть установлен перед запуском
# Пример генерации: openssl rand -hex 16
# ENCRYPTION_KEY=your-32-hex-character-encryption-key-here

# Конфигурация LLM (опционально, для AI функций)
# LLM_BASE_URL=https://your-llm-api.com
# LLM_PROXY_TOKEN=your-llm-api-token
# LLM_MODEL=qwen2.5:14b 